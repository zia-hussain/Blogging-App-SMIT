<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Profile</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- */  Goole Font CDN   */    -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,700;0,900;1,500&display=swap"
      rel="stylesheet"
    />
    <!-- ## CSS Link ## -->
    <link rel="stylesheet" href="profile.css" />
  </head>
  <body>
    <div id="full" class="full"></div>

    <div class="popup" id="popup">
      <i onclick="closePopup()" id="close" class="fa-solid fa-times"></i>
      <h1>Deleting Confirmation</h1>
      <p>Do You Want To Delete This ?</p>
      <div class="input-field">
        <i class="fa-solid fa-lock"></i>
        <input id="c-pass" type="password" placeholder="Insert password" />
      </div>
      <div id="btns">
        <a id="cancel" onclick="closePopup()" href="#">Cancel</a>
        <a id="delete" href="#">Delete</a>
      </div>
    </div>

    <!-- Popup for edit btn -->

    <div class="e-popup" id="e-popup">
      <i  id="close" class="fa-solid fa-times close"></i>
      <h1>Edit Blog</h1>
      <div class="input-field">
        <i class="fa-solid fa-lightbulb"></i>
        <input id="topic" type="text" placeholder="Topic" />
      </div>
      <div class="input-field">
        <i class="fa-solid fa-pencil"></i>
        <input id="titleinp" type="text" placeholder="Title" />
      </div>

      <!-- // image for blog // -->
      <div class="input-field img-input">
        <i class="fa-solid fa-image"></i>
        <i class="fa-solid fa-image view-icon" id="view-icon"></i>
        <input id="blog-img" type="file" accept="image/*" />

        <label for="blog-img" class="file-placeholder"
          >Place Your Image</label
        >
        <img id="image-preview" class="file-preview" src="#" />
      </div>

      <!-- Modal for larger image view -->
      <div id="image-modal" class="modal">
        <div class="modal-content">
          <i class="fa-solid fa-times close-icon" onclick="closeModal()"></i>
          <img id="full-image" />
        </div>
      </div>

      <div class="input-field-t">
        <i class="fa-solid fa-comment"></i>
        <textarea
          name="desc"
          id="desc"
          cols="30"
          rows="10"
          placeholder="Description"
        ></textarea>
      </div>
      
      <div id="btns">
        <a id="e-cancel" href="#">Cancel</a>
        <a id="update" href="#">Update</a>
      </div>
    </div>

    <div id="t-spinner" class="newtons-cradle">
      <div class="newtons-cradle__dot"></div>
      <div class="newtons-cradle__dot"></div>
      <div class="newtons-cradle__dot"></div>
      <div class="newtons-cradle__dot"></div>
    </div>

    <div class="wrapper">
      <!---Start Here !---->
      <nav id="nav" class="nav">
        <div class="nav-left">
          <i id="menu" onclick="showmenu()" class="fa-solid fa-bars"></i>
          <i
            id="closemenu"
            onclick="closemenu()"
            class="fa-solid fa-times"
          ></i>
          <h1>Personal Blogging App</h1>
        </div>
        <div class="nav-right">
          <ul id="items">
            <a href="/Dashboard/dashboard.html"
              ><li id="line">Dashboard</li></a
            >
            <a href="#all-blogs"><li id="line">My Blogs</li></a>
          </ul>
          <a href="#" onclick="logoutBtn()"><button id="btn">Logout</button></a>
        </div>
      </nav>
      <div class="hero-sec">
        <div class="hero-left">
          <div class="profile-pic-div">
            <img src="image.jpg" id="photo" />
            <input type="file" id="file" />
            <label for="file" id="uploadBtn">Add Profile</label>
          </div>
          <button id="upload">Done</button>
        </div>
        <div class="hero-right">
          <div class="title">
            <h1 id="title"></h1>
            <i id="edit" class="fa-regular fa-pen-to-square"></i>
          </div>
          <div id="dets">
            <p id="para1">Acc Created:<span id="created">10/29/2202</span></p>
            <!-- Add this line wherever you want to give users the option to delete their account -->
            <p id="para2">
              Want to delete your account?
              <a href="#" onclick="openPopup()" id="deleteAccountButton"
                >Delete Account</a
              >
            </p>
          </div>
        </div>
      </div>
        <div id="all-blogs-container"></div>
        <div id="all-blogs">
          <h1>My Blogs</h1>
          <div class="cards" id="articls">
            <div id="recent-not-found" class="not-found-container">
              <img id="recent-not-found-img" src="not-found.png" alt="" />
              <span id="not-found-text">
                No blogs are currently available. <br />
                Check back later for updates or contribute your own!
              </span>
            </div>
            
          </div>
        </div>


        <script>
          function logoutBtn() {
            window.location.href = "/index.html";
          }
        
          let background = document.getElementById("full");
          let popup = document.getElementById("popup");
          let show = document.getElementById("menu");
          let close = document.getElementById("close");
 
        
          function openPopup() {
            popup.classList.add("open-popup");
          }
        
          function closePopup() {
            popup.classList.remove("open-popup");
          }
        
          function showmenu() {
            if (window.innerWidth <= 1100) {
              show.style.display = "none";
              document.getElementById("closemenu").style.display = "block";
              document.getElementById("items").style.left = "0";
            }
          }
        
          function closemenu() {
            if (window.innerWidth <= 1100) {
              document.getElementById("closemenu").style.display = "none";
              document.getElementById("items").style.left = "-35vh";
              show.style.display = "block";
            }
          }

  var input = document.getElementById('blog-img');
  var label = input.nextElementSibling;


  if(!file){
    label.textContent = 'place you image'
  }
 // Function to handle file input change event
document.getElementById("blog-img").onchange = function() {
    handleImageUpload();
};

// Function to handle image upload and preview
function handleImageUpload() {
    const inputElement = document.getElementById("blog-img");
    const file = inputElement.files[0];
    const imagePreview = document.getElementById("image-preview");
    const viewIcon = document.getElementById("view-icon");

    if (file) {
        const reader = new FileReader();

        reader.onload = function(e) {
            // Display the selected image in the image preview element
            imagePreview.src = e.target.result;
            // Display the view icon
            imagePreview.style.display = 'block'
            viewIcon.style.display = "block";
        };

        // Read the selected file as a data URL
        reader.readAsDataURL(file);
    } else {
        console.log("No image selected.");
        // If no image selected, hide the image preview and view icon
        imagePreview.style.display = 'none';
        viewIcon.style.display = "none";
        label.textContent = 'Place Your Image'
    }
}

// Function to open the modal and display the full image
function openModal() {
    var modal = document.getElementById("image-modal");
    modal.style.display = "flex";

    var fullImage = document.getElementById("full-image");
    fullImage.src = document.getElementById("image-preview").src;
}

// Function to close the modal
function closeModal() {
    var modal = document.getElementById("image-modal");
    modal.style.display = "none";
}

var viewIcon = document.getElementById("view-icon");
var fileInput = document.getElementById("blog-img");
var imagePreview = document.getElementById("image-preview");

fileInput.addEventListener("change", function () {
    viewIcon.style.display = this.files.length > 0 ? "block" : "none";
    imagePreview.style.display = this.files.length > 0 ? "block" : "none";
});

// Attach click event to the view icon
viewIcon.addEventListener("click", openModal);


        </script>
        
    <script type="module" src="profile.js"></script>
  </body>
</html>
