<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://kit.fontawesome.com/64d58efce2.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="style.css" />
    <title>Sign in & Sign up Form</title>
  </head>
  <body>
    <div class="container">
      <div class="forms-container">
        <div class="signin-signup">
          <form autocomplete="off" action="#" class="sign-in-form">
            <h2 class="title">Sign in</h2>
            <div class="input-field">
              <i class="fas fa-envelope"></i>
              <input
                id="email"
                type="email"
                placeholder="Email"
                autocomplete="false"
              />
            </div>
            <div class="input-field">
              <i class="fas fa-lock"></i>
              <input
                id="password"
                type="password"
                placeholder="Password"
                autocomplete="off"
              />
            </div>
            <button id="signin-btn" type="submit" class="btn solid">
              Login
            </button>
            <p class="social-text">Or Sign in with social platforms</p>
            <div class="social-media">
              <a href="#" class="social-icon">
                <i class="fab fa-facebook-f"></i>
              </a>
              <a href="#" class="social-icon">
                <i class="fab fa-twitter"></i>
              </a>
              <a href="#" class="social-icon">
                <i class="fab fa-google"></i>
              </a>
              <a href="#" class="social-icon">
                <i class="fab fa-linkedin-in"></i>
              </a>
            </div>
          </form>
          <form action="#" class="sign-up-form">
            <h2 class="title">Sign up</h2>
            <div class="input-field">
              <i class="fas fa-user"></i>
              <input id="username" type="text" placeholder="Username" />
            </div>
            <div class="input-field">
              <i class="fas fa-envelope"></i>
              <input
                id="signup-email"
                type="email"
                placeholder="Email"
                autocomplete="new-email"
              />
            </div>
            <div class="input-field">
              <i class="fas fa-lock"></i>
              <input
                id="signup-password"
                type="password"
                placeholder="Password"
                autocomplete="new-password"
              />
            </div>
            <button id="signup-btn" type="submit" class="btn">Sign UP</button>
            <p class="social-text">Or Sign up with social platforms</p>
            <div class="social-media">
              <a href="#" class="social-icon">
                <i class="fab fa-facebook-f"></i>
              </a>
              <a href="#" class="social-icon">
                <i class="fab fa-twitter"></i>
              </a>
              <a href="#" class="social-icon">
                <i class="fab fa-google"></i>
              </a>
              <a href="#" class="social-icon">
                <i class="fab fa-linkedin-in"></i>
              </a>
            </div>
          </form>
        </div>
      </div>

      <div class="panels-container">
        <div class="panel left-panel">
          <div class="content">
            <h3>New here ?</h3>
            <p>
              Embarking on a journey with the click of 'New here,' where your
              details become the brushstrokes of your digital identity. In this
              virtual realm, let each keystroke be a signature, marking the
              beginning of your unique presence.
            </p>
            <button class="btn transparent" id="sign-up-btn">Sign up</button>
          </div>
          <img src="img/log.svg" class="image" alt="" />
        </div>
        <div class="panel right-panel">
          <div class="content">
            <h3>One of us ?</h3>
            <p>
              Already one of us, your presence is a signature in this digital
              landscape. From the first keystroke, your story began, and with
              each click, you contribute to the evolving narrative of our shared
              online community
            </p>
            <button class="btn transparent" id="sign-in-btn">Sign in</button>
          </div>
          <img src="img/register.svg" class="image" alt="" />
        </div>
      </div>
    </div>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
      import {
        getDatabase,
        set,
        ref,
      } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
      import {
        getAuth,
        createUserWithEmailAndPassword,
        signInWithEmailAndPassword,
      } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

      const firebaseConfig = {
        apiKey: "AIzaSyBlpLk8NjMNvY3aFWvzTLp9uX_wVOX4TRY",
        authDomain: "auth-blog-app-assignment.firebaseapp.com",
        projectId: "auth-blog-app-assignment",
        storageBucket: "auth-blog-app-assignment.appspot.com",
        messagingSenderId: "939311478935",
        appId: "1:939311478935:web:dc29fa6e41142a622651d2",
      };

      const app = initializeApp(firebaseConfig);
      const db = getDatabase();
      const auth = getAuth(app);
      const dbref = ref(db);

      let signInForm = document.getElementById("signin-btn");
      let signUpForm = document.querySelector(".sign-up-form");

      let registerUser = (e) => {
        e.preventDefault();

        let username = document.getElementById("username");
        let signupEmail = document.getElementById("signup-email");
        let signupPass = document.getElementById("signup-password");

        createUserWithEmailAndPassword(
          auth,
          signupEmail.value,
          signupPass.value
        )
          .then((credential) => {
            console.log(credential);
          })
          .catch((error) => {
            alert(error.message);
          });
      };
      signUpForm.addEventListener("submit", registerUser);

      let SignInUser = (e) => {
        e.preventDefault();

        let email = document.getElementById("email");
        let password = document.getElementById("password");

        signInWithEmailAndPassword(auth, email.value, password.value)
          .then((credential) => {
            console.log(credential);
            window.location.replace("./dashboard.html");
          })
          .catch((error) => {
            alert("Please Insert Correct Credential");
          });
      };
      signInForm.addEventListener("click", SignInUser);
    </script>

    <script src="app.js"></script>
  </body>
</html>
